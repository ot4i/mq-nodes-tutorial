{
  "version":"0.6",
  "pageContent": 
  {
    "comments":"JSON object that contains data for page labels, buttons, etc.",
      "navItems":
      {
        "_common":
        {
			"buttonBackToGallery": 
			{
				"name": "Back To Gallery",
				"method": "backToGallery()",
				"idName": "backToGallery"	
			},
			"buttonStartTutorial": 
			{
				"name": "Start Tutorial",
				"method": "startTutorialFromDetailsScreen()",
				"idName": "startTutorial"
			},
			"buttonViewDetails":
			{

				"name": "View Details",
				"method": "viewDetails()",
				"idName": "stepsViewDetails"
			}
		}
      }  
  },
  "tutorial": 
  { 
    "_common":
    {
      "name":"Interacting with WebSphere MQ using MQ node properties",
      "shortDescription":"Configuring MQ nodes to recieve and send messages from and to queues in MQ while routing the message using a JavaCompute node.",
      "durationText":"This tutorial takes approximately",
      "durationTime":"10 minutes",
	  "_resourceToOpenComment": "The ID of the first resource to open when the user imports the tutorial. Resource IDs are defined in the repo_metadata.json Tutorials listing on ot4i.",
	  "resourceToOpen":"MQNodePropertiesMain",
            "helpLink": 
			{
                "text": "Creating the default IBM integration queues in WebSphere MQ.",
                "link": "com.ibm.etools.mft.doc/ah09090_.htm?lang=en"
            }
    },
    "pageDetails":
    {
      "topicsName":"Tutorial Topics",
	  "_topicListComment": "A short list of product concepts or tasks demonstrated by this tutorial",
      "topicList":
      [
        {
          "title":"MQ Input/Output Nodes"
        },
        {
          "title":"JavaCompute Node"
        }
      ],
      "outcomesName":"Learning outcomes",
	  "_outcomesComment": "A description of what the user will have learned or accomplished by running this tutorial.",
      "outcomeList":
      [
        {
          "title":"Develop a message flow which receives messages from a MQ queue."
        },
        {
          "title":"Learn how to route the message to a local or remote queue using JavaCompute."
        },
        {
          "title":"Understand how to connect MQInput and MQOutput nodes to specific queues and queue managers."
        }
      ],
      "summary":
        {
          "overviewName":"OVERVIEW",
		  "_overviewComment": "A description of what happens in this tutorial, and an optional short explanation of the IIB concepts used in this tutorial if necessary for context. What background knowledge must the user have for this to make sense?",
          "sections":
          [
            {
            "section":"This tutorial demonstrates how to create a connection to pass messages between IBM Integration Bus and WebSphere MQ. You will also see how to use a simple JavaCompute node to route the message."
            },
            {
            "section":"Websphere MQ is a program to program service used for sending messages across different platforms. Generally you will use an Input queue and an Output queue to send and receive messages."
            },
            {
            "section":"The JavaCompute node has been programmed to search through an XML message tree to assess the value of the ConnType property and route the message to the specified location."
            }
          ]
        },
		"helpLinks": 
		{
		"title": "Find out more",
		"details" :
		  [
			{
			"title":"Knowledge Center link to ",
			"description":"the MQ Input Node",
			"link":"com.ibm.etools.mft.doc/ac04560_.htm?lang=en"
			},
			{
			"title":"Knowledge Center link to ",
			"description":"the MQ Output Node",
			"link":"com.ibm.etools.mft.doc/ac04570_.htm?lang=en"
			},
			{
			"title":"Knowledge Center link to ",
			"description":"the JavaCompute Node",
			"link":"com.ibm.etools.mft.doc/ac20805_.htm?lang=en"
			},
			{
			"title":"Knowledge Center link to ",
			"description":"creating a client connection to MQ",
			"link":"com.ibm.etools.mft.doc/bc28611_.htm?lang=en"
			}
		  ]
		}
      },
      "pageSteps":
      {
        "create":
        {
          "overview":
          {
            "name":"Create",
            "heading":"Import the Message Flow",
			"_createComment": "A description of what will happen when the user clicks Import.",
            "sections":
					[
                        {
							"section": "Click on the Import link to create and open the <span class='application'>MQNodePropertiesTutorial</span> project in your workspace."
						},
						{
							"section": "The <span class='msgflow'>MQNodePropertiesMain.msgflow</span> message flow should open. If not then it can be located in the Application Development area on the left. "
						},
						{
							"section": "Click on the Prepare tab to see how to set up this flow to connect it to WebSphere MQ."
						}
                    ]
                },
                "helpLinks": 
				{
                    "title": "Find out more",
                    "details": 
					[
                       {
						"title": "Knowledge Center",
						"description": "Developing integration solutions from scratch.",
						"link": "com.ibm.etools.mft.doc/bi12002_.htm?lang=en",
						"type": "web"
						}	
                    ]
                },
                "actions": 
				{
                    "title": "Create Actions",
                    "details": 
					[
                        {
                            "name": "Import",
                            "method": "importArtifacts()"
                        }
                    ]
                }
            },
            "prepare": 
			{
                "overview": 
				{
                    "name": "Prepare",
                    "heading": "Connecting the flow to your queues and configuring your nodes.",
                    "_prepareComment": "A description of what just happened when the user clicked Import, and what will happen when the user clicks Deploy.",
                    "sections": 
					[
                        {
                            "section": "In this section you will be configuring the MQInput and MQOutput nodes to connect to the queues in Websphere MQ."
                        },
                        {
                            "section": "The following assumes that you have installed and are running Websphere MQ. If not then use the link below for assistance. Within the application you downloaded there is a file called MQCommands.mqsc, open Windows Command Prompt (cmd) in administrator mode (as this will give you the necessary access) and run the script there. This should set up MQ with everything you need for this tutorial."                       
						},						
                        {
                            "section": "Now return to IIB and open the <span class='msgflow'>MQNodePropertiesMain</span> message flow.",
                            "steps":
                            {
                                "type": "ordered",
			                    "details": 
			                    [
						            {
							            "details": "To configure the MQRemoteInput node to your Input queue click on it and go to the properties tab. Under the Basic tab enter the <span class='property'>Queue name</span> of the queue created by the command script - <span class='option'>Remote_Input</span>. Go to the MQ Connection tab and from the drop down menu select <span class='option'>MQ Client Connection Properties</span>. In <span class='property'>Destination queue manager name</span> enter <span class='option'>Tutorial_QM_Remote</span> as this is where the Remote_Input queue is found. Under <span class='property'>Host name</span> enter <span class='option'>localhost</span>, the <span class='property'>listener port number</span> is <span class='option'>1001</span> and the <span class='property'>channel name</span> is <span class='option'>IIB.CLNT.CONN</span> (These were all set up from the mqsc script). Finally, on the Input Message Parsing tab set the <span class='property'>message domain</span> to <span class='option'>XMLNSC</span> - this tells the node that you will be sending it an XML message."
						            },
									{
							            "details": "For the MQRemoteOutput node on the Basic tab set the <span class='property'>queue name</span> to <span class='option'>Remote_Output</span> and set the MQ Connection settings to the same as the input node."
						            },
									{
							            "details": "For the MQFailureOutput and MQLocalOutput nodes on the basic tab enter the queues <span class='option'>Failure_Output</span> and <span class='option'>Local_Output</span> respectively and on the MQ Connection tab set the <span class='property'>connection</span> to a <span class='option'>Local Queue Manager</span> and enter the name <span class='option'>Tutorial_QM_Local</span>."
						            }
					            ]
						    }
                        }
                    ]
                },
                "helpLinks": 
				{
                    "title": "Find out more",
                    "details": 
					[                       
                        {
				            "title":"Knowledge Center link to ",
				            "description":"Setting up WebSphere MQ.",
				            "link":"com.ibm.etools.mft.doc/ah09088_.htm?lang=en"
                        },
						{
				            "title":"Knowledge Center link to ",
				            "description":"WebSphere MQ Commands",
				            "link":"com.ibm.mq.ref.adm.doc/q083010_.htm"
                        }
                    ]
                },
                "actions-remove": 
				{
				    "comment":" as the user needs to configure some of the properties on the flow in the create step, we cannot have a pre-built bar file, therefore cannot use the deploy action",
                    "title": "Prepare Actions",
                    "details": 
					[
                        {
                            "name": "Deploy",
                            "method": "deployArtifacts()"
                        }
                    ]
                }
            },
            "run": 
			{
                "overview": 
				{
                    "name": "Run",
                    "heading": "Follow these steps to complete the tutorial",
                    "_runComment": "The full steps for the user to run through the tutorial. Use 'sections' to render paragraphs, 'steps' with a type of 'ordered' or 'unordered' to render HTML lists, and 'substeps' to render nested lists.",
                    "sections": 
					[
                        {
                            "section": "In this final section you will send a simple XML message through the flow you have developed.",
                            "steps": 
							{
                                "type": "ordered",
                                "details": 
								[
                                    {
                                        "details": "Click the <span class='icon'>Flow Exerciser</span> icon <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/iib/startFlowExerciser.png' alt='' /> to start recording the message path through the flow."
                                    },
                                    {
										"details":"Click the <span class='icon'>Send Message</span> icon <img src='http://ot4i.github.io/iib-tutorials/images/icons/iib/sendMessage.png' alt='' /> to select a message to send to the flow."
									},
									{ 
										"details":"Choose either the LocalMessage or RemoteMessage and click Send. Your request message is sent to the MQRemoteInput node."
									}
								]
							}
						},
						{
							"section":"After the message has been processed, the message path is automatically highlighted on the message flow."
						},
						{
							"section":"Click on any connection to see the data that passed through that connection. You can see that the request (input) message data has a field named <span class='property'>ConnType</span>. The response (output) message has been routed according to this."
						},
						{
							"section":"To stop recording the message path through the flow, click the <span class='icon'>Return flow to edit mode</span> icon <img src='http://ot4i.github.io/iib-tutorials/images/icons/iib/stopFlowExerciser.png' alt='Return flow to edit mode' />."
						},
						{
							"section":"If you go to WebSphere MQ now you will see that the Remote_Input queue has 1 Open Input Count which means that it is receiving information from 1 source. You can also see that the queue you sent the message to will have a current queue depth of 1, this means that the message sent successfully."
						}
					]
				},
					"helpLinks": 
				{
					"title": "Find out more",
					"details" :
					[
						{
						"title":"Knowledge Center link to ",
						"description":"Developing integration solutions by using applications.",
						"link":"com.ibm.etools.mft.doc/bi12002_.htm"
						},
						{
						"title":"Knowledge Center link to ",
						"description":"Testing your message flow by using the Flow exerciser.",
						"link":"com.ibm.etools.mft.doc/rt26110_.htm"
						},
						{
						"title":"Knowledge Center link to ",
						"description":"The JavaCompute node.",
						"link":"/com.ibm.etools.mft.doc/ac20805_.htm?lang=en"
						}
					]
				},
			"exits": 
			{
				"title": "Run Exits",
				"details": 
				[
					{
						"name": "Clean Up",
						"description": "Clean up and remove any changes in your workspace made by the tutorial.",
						"method": "cleanUp()"
					}
				]
			}
        } 
      }
    }
  }
